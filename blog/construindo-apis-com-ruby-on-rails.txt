1:"$Sreact.fragment"
2:I[5244,[],""]
3:I[3866,[],""]
5:I[6213,[],"OutletBoundary"]
7:I[6213,[],"MetadataBoundary"]
9:I[6213,[],"ViewportBoundary"]
b:I[4835,[],""]
:HL["/_next/static/media/c7f848bed9dd25a3-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/9b74512675ee6c74.css","style"]
0:{"P":null,"b":"DvCRqxrcZEzaBm-vQxvoe","p":"","c":["","blog","construindo-apis-com-ruby-on-rails"],"i":false,"f":[[["",{"children":["blog",{"children":[["slug","construindo-apis-com-ruby-on-rails","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9b74512675ee6c74.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":["$","body",null,{"className":"__className_d28b19","children":["$","$L2",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","construindo-apis-com-ruby-on-rails","d"],["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$0:f:0:1:2:children:2:children:0","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L4",null,["$","$L5",null,{"children":"$L6"}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","oSivx4GduJWDD76QijbNA",{"children":[["$","$L7",null,{"children":"$L8"}],["$","$L9",null,{"children":"$La"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]]}],false]],"m":"$undefined","G":["$b","$undefined"],"s":false,"S":true}
c:I[3818,["596","static/chunks/596-a24dab9218c0d3e3.js","953","static/chunks/app/blog/%5Bslug%5D/page-96b01049ba0390b6.js"],"default"]
4:["$","$Lc",null,{"post":{"meta":{"slug":"construindo-apis-com-ruby-on-rails","title":"Construindo APIs com Ruby on Rails","excerpt":"Aprenda a criar APIs RESTful eficientes utilizando Ruby on Rails e boas práticas de desenvolvimento","date":"2023-09-22","imageUrl":"/images/blog/rails-api.jpg","tags":["Ruby","Rails","API","Backend"],"author":{"name":"Vinicius Lisboa","imageUrl":"/images/vinicius.jpeg"}},"content":[["$","h1",null,{"children":"Construindo APIs com Ruby on Rails"}],"\n",["$","p",null,{"children":"Ruby on Rails é um framework web robusto e elegante que facilita o desenvolvimento de aplicações web, incluindo APIs RESTful. Neste artigo, vamos explorar como criar APIs eficientes usando Rails."}],"\n",["$","h2",null,{"children":"Por que Rails para APIs?"}],"\n",["$","p",null,{"children":"Rails oferece várias vantagens para desenvolvimento de APIs:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"Convenção sobre configuração"}],": Menos código boilerplate"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Active Record"}],": ORM poderoso e intuitivo"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Roteamento RESTful"}],": Fácil definição de rotas"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Segurança"}],": Proteções built-in contra ataques comuns"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Testes"}],": Framework de testes robusto"]}],"\n"]}],"\n",["$","h2",null,{"children":"Configurando um projeto Rails API"}],"\n",["$","p",null,{"children":"Primeiro, vamos criar um novo projeto Rails focado em API:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"rails new minha-api --api\ncd minha-api\n"}]}],"\n",["$","p",null,{"children":["A flag ",["$","code",null,{"children":"--api"}]," remove componentes desnecessários para APIs, como views e assets."]}],"\n",["$","h2",null,{"children":"Criando um Modelo"}],"\n",["$","p",null,{"children":"Vamos criar um modelo para artigos:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"rails generate model Article title:string content:text author:string published:boolean\nrails db:migrate\n"}]}],"\n",["$","h2",null,{"children":"Configurando o Modelo"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-ruby","children":"# app/models/article.rb\nclass Article < ApplicationRecord\n  validates :title, presence: true\n  validates :content, presence: true\n  validates :author, presence: true\n  \n  scope :published, -> { where(published: true) }\n  scope :recent, -> { order(created_at: :desc) }\nend\n"}]}],"\n",["$","h2",null,{"children":"Criando o Controller"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"rails generate controller Api::V1::Articles\n"}]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-ruby","children":"# app/controllers/api/v1/articles_controller.rb\nclass Api::V1::ArticlesController < ApplicationController\n  before_action :set_article, only: [:show, :update, :destroy]\n\n  def index\n    @articles = Article.published.recent\n    render json: @articles\n  end\n\n  def show\n    render json: @article\n  end\n\n  def create\n    @article = Article.new(article_params)\n    \n    if @article.save\n      render json: @article, status: :created\n    else\n      render json: @article.errors, status: :unprocessable_entity\n    end\n  end\n\n  def update\n    if @article.update(article_params)\n      render json: @article\n    else\n      render json: @article.errors, status: :unprocessable_entity\n    end\n  end\n\n  def destroy\n    @article.destroy\n    head :no_content\n  end\n\n  private\n\n  def set_article\n    @article = Article.find(params[:id])\n  end\n\n  def article_params\n    params.require(:article).permit(:title, :content, :author, :published)\n  end\nend\n"}]}],"\n",["$","h2",null,{"children":"Configurando as Rotas"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-ruby","children":"# config/routes.rb\nRails.application.routes.draw do\n  namespace :api do\n    namespace :v1 do\n      resources :articles\n    end\n  end\nend\n"}]}],"\n",["$","h2",null,{"children":"Serializers para JSON"}],"\n",["$","p",null,{"children":"Para melhor controle sobre o JSON retornado, use serializers:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"gem 'active_model_serializers'\n"}]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-ruby","children":"# app/serializers/article_serializer.rb\nclass ArticleSerializer < ActiveModel::Serializer\n  attributes :id, :title, :content, :author, :published, :created_at, :updated_at\n  \n  def created_at\n    object.created_at.strftime('%Y-%m-%d %H:%M:%S')\n  end\n  \n  def updated_at\n    object.updated_at.strftime('%Y-%m-%d %H:%M:%S')\n  end\nend\n"}]}],"\n",["$","h2",null,{"children":"Autenticação com JWT"}],"\n",["$","p",null,{"children":"Para APIs seguras, implemente autenticação JWT:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"gem 'jwt'\ngem 'bcrypt'\n"}]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-ruby","children":"# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::API\n  before_action :authenticate_request\n  \n  private\n  \n  def authenticate_request\n    header = request.headers['Authorization']\n    token = header.split(' ').last if header\n    \n    begin\n      @decoded = JWT.decode(token, Rails.application.secrets.secret_key_base)[0]\n      @current_user = User.find(@decoded['user_id'])\n    rescue ActiveRecord::RecordNotFound, JWT::DecodeError\n      render json: { error: 'Token inválido' }, status: :unauthorized\n    end\n  end\nend\n"}]}],"\n",["$","h2",null,{"children":"Testes com RSpec"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-ruby","children":"# spec/requests/api/v1/articles_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'Articles API', type: :request do\n  describe 'GET /api/v1/articles' do\n    it 'returns all articles' do\n      get '/api/v1/articles'\n      expect(response).to have_http_status(200)\n    end\n  end\n\n  describe 'POST /api/v1/articles' do\n    it 'creates a new article' do\n      article_params = {\n        title: 'Meu Artigo',\n        content: 'Conteúdo do artigo',\n        author: 'Vinicius Lisboa',\n        published: true\n      }\n\n      post '/api/v1/articles', params: { article: article_params }\n      expect(response).to have_http_status(201)\n    end\n  end\nend\n"}]}],"\n",["$","h2",null,{"children":"Documentação da API"}],"\n",["$","p",null,{"children":"Use Swagger/OpenAPI para documentar sua API:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"gem 'rswag-api'\ngem 'rswag-ui'\n"}]}],"\n",["$","h2",null,{"children":"Deploy e Monitoramento"}],"\n",["$","h3",null,{"children":"Deploy no Heroku"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"heroku create minha-api\ngit push heroku main\nheroku run rails db:migrate\n"}]}],"\n",["$","h3",null,{"children":"Monitoramento com New Relic"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-bash","children":"gem 'newrelic_rpm'\n"}]}],"\n",["$","h2",null,{"children":"Boas Práticas"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"Versionamento"}],": Sempre versione suas APIs"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Validação"}],": Valide dados de entrada"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Tratamento de Erros"}],": Retorne códigos HTTP apropriados"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Rate Limiting"}],": Implemente limites de requisições"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Caching"}],": Use cache para melhorar performance"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Logs"}],": Mantenha logs detalhados"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Testes"}],": Teste todas as funcionalidades"]}],"\n"]}],"\n",["$","h2",null,{"children":"Exemplo de Rate Limiting"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-ruby","children":"# config/application.rb\nconfig.middleware.use Rack::Attack\n\n# config/initializers/rack_attack.rb\nclass Rack::Attack\n  throttle('api/ip', limit: 100, period: 1.minute) do |req|\n    req.ip\n  end\nend\n"}]}],"\n",["$","h2",null,{"children":"Conclusão"}],"\n",["$","p",null,{"children":"Ruby on Rails é uma excelente escolha para desenvolvimento de APIs. Com suas convenções, ferramentas built-in e ecossistema rico, você pode criar APIs robustas e escaláveis rapidamente."}],"\n",["$","p",null,{"children":"Lembre-se de seguir as boas práticas, implementar testes adequados e manter a documentação atualizada. A comunidade Rails é muito ativa e sempre há algo novo para aprender!"}],"\n",["$","hr",null,{}],"\n",["$","p",null,{"children":["$","em",null,{"children":"Este artigo foi escrito por Vinicius Lisboa. Para mais conteúdo sobre desenvolvimento backend, siga-me nas redes sociais."}]}]]}}]
a:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
8:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Construindo APIs com Ruby on Rails | Blog de Vinicius Lisboa"}],["$","meta","2",{"name":"description","content":"Aprenda a criar APIs RESTful eficientes utilizando Ruby on Rails e boas práticas de desenvolvimento"}],["$","meta","3",{"property":"og:title","content":"Construindo APIs com Ruby on Rails"}],["$","meta","4",{"property":"og:description","content":"Aprenda a criar APIs RESTful eficientes utilizando Ruby on Rails e boas práticas de desenvolvimento"}],["$","meta","5",{"property":"og:type","content":"article"}],["$","meta","6",{"property":"article:published_time","content":"2023-09-22"}],["$","meta","7",{"property":"article:author","content":"Vinicius Lisboa"}],["$","meta","8",{"name":"twitter:card","content":"summary"}],["$","meta","9",{"name":"twitter:title","content":"Construindo APIs com Ruby on Rails"}],["$","meta","10",{"name":"twitter:description","content":"Aprenda a criar APIs RESTful eficientes utilizando Ruby on Rails e boas práticas de desenvolvimento"}],["$","link","11",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
6:null
